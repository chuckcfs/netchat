
var __cov_9ZuiCkMYDhEIeF8mEqIatQ = (Function('return this'))();
if (!__cov_9ZuiCkMYDhEIeF8mEqIatQ.__coverage__) { __cov_9ZuiCkMYDhEIeF8mEqIatQ.__coverage__ = {}; }
__cov_9ZuiCkMYDhEIeF8mEqIatQ = __cov_9ZuiCkMYDhEIeF8mEqIatQ.__coverage__;
if (!(__cov_9ZuiCkMYDhEIeF8mEqIatQ['app/js/chat/ChatList.js'])) {
   __cov_9ZuiCkMYDhEIeF8mEqIatQ['app/js/chat/ChatList.js'] = {"path":"app/js/chat/ChatList.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":8},"end":{"line":1,"column":29}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":11},"end":{"line":4,"column":60}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":26},"end":{"line":10,"column":38}}},"4":{"name":"(anonymous_4)","line":15,"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":45}}},"5":{"name":"(anonymous_5)","line":58,"loc":{"start":{"line":58,"column":26},"end":{"line":58,"column":38}}},"6":{"name":"(anonymous_6)","line":87,"loc":{"start":{"line":87,"column":39},"end":{"line":87,"column":60}}},"7":{"name":"(anonymous_7)","line":114,"loc":{"start":{"line":114,"column":36},"end":{"line":114,"column":57}}},"8":{"name":"(anonymous_8)","line":121,"loc":{"start":{"line":121,"column":39},"end":{"line":121,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":126,"column":3}},"2":{"start":{"line":4,"column":4},"end":{"line":125,"column":6}},"3":{"start":{"line":5,"column":8},"end":{"line":6,"column":29}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":46}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":34}},"6":{"start":{"line":10,"column":8},"end":{"line":14,"column":10}},"7":{"start":{"line":11,"column":12},"end":{"line":11,"column":33}},"8":{"start":{"line":12,"column":12},"end":{"line":12,"column":38}},"9":{"start":{"line":13,"column":12},"end":{"line":13,"column":46}},"10":{"start":{"line":15,"column":8},"end":{"line":57,"column":10}},"11":{"start":{"line":16,"column":12},"end":{"line":16,"column":31}},"12":{"start":{"line":17,"column":12},"end":{"line":17,"column":46}},"13":{"start":{"line":18,"column":12},"end":{"line":56,"column":15}},"14":{"start":{"line":58,"column":8},"end":{"line":69,"column":10}},"15":{"start":{"line":59,"column":12},"end":{"line":68,"column":15}},"16":{"start":{"line":71,"column":8},"end":{"line":85,"column":11}},"17":{"start":{"line":87,"column":8},"end":{"line":113,"column":11}},"18":{"start":{"line":88,"column":12},"end":{"line":112,"column":13}},"19":{"start":{"line":89,"column":16},"end":{"line":91,"column":17}},"20":{"start":{"line":90,"column":20},"end":{"line":90,"column":52}},"21":{"start":{"line":93,"column":16},"end":{"line":111,"column":17}},"22":{"start":{"line":94,"column":20},"end":{"line":94,"column":34}},"23":{"start":{"line":95,"column":20},"end":{"line":95,"column":40}},"24":{"start":{"line":96,"column":20},"end":{"line":98,"column":23}},"25":{"start":{"line":100,"column":20},"end":{"line":109,"column":23}},"26":{"start":{"line":110,"column":20},"end":{"line":110,"column":37}},"27":{"start":{"line":114,"column":8},"end":{"line":120,"column":11}},"28":{"start":{"line":115,"column":12},"end":{"line":115,"column":26}},"29":{"start":{"line":116,"column":12},"end":{"line":116,"column":41}},"30":{"start":{"line":117,"column":12},"end":{"line":119,"column":15}},"31":{"start":{"line":121,"column":8},"end":{"line":124,"column":11}},"32":{"start":{"line":122,"column":12},"end":{"line":122,"column":48}},"33":{"start":{"line":123,"column":12},"end":{"line":123,"column":35}}},"branchMap":{"1":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":12},"end":{"line":88,"column":12}},{"start":{"line":88,"column":12},"end":{"line":88,"column":12}}]},"2":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":16},"end":{"line":93,"column":16}},{"start":{"line":93,"column":16},"end":{"line":93,"column":16}}]}}};
}
__cov_9ZuiCkMYDhEIeF8mEqIatQ = __cov_9ZuiCkMYDhEIeF8mEqIatQ['app/js/chat/ChatList.js'];
__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['1']++;define(function(require){'use strict';__cov_9ZuiCkMYDhEIeF8mEqIatQ.f['1']++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['2']++;return function($scope,$state,Chat,Session,User){__cov_9ZuiCkMYDhEIeF8mEqIatQ.f['2']++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['3']++;var searching=false,user={};__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['4']++;$scope.user_id=Session.getUserId();__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['5']++;$scope.chats=Array();__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['6']++;$scope.hide=function(){__cov_9ZuiCkMYDhEIeF8mEqIatQ.f['3']++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['7']++;$scope.keyword='';__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['8']++;$scope.users=Array();__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['9']++;$('#retrieved-users').slideUp();};__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['10']++;$scope.select=function(index){__cov_9ZuiCkMYDhEIeF8mEqIatQ.f['4']++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['11']++;searching=true;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['12']++;user=$scope.users[index];__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['13']++;Chat.query({filters:{'$or':[{'$and':[{from:{_id:$scope.user_id,name:$scope.user}},{to:{_id:user._id,name:user.name}}]},{'$and':[{to:{_id:$scope.user_id,name:$scope.user}},{from:{_id:user._id,name:user.name}}]}]},select:'from to last_message'});};__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['14']++;$scope.search=function(){__cov_9ZuiCkMYDhEIeF8mEqIatQ.f['5']++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['15']++;User.query({filters:{name:$scope.keyword,_id:{'$ne':$scope.user_id}},limit:20,select:'name'});};__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['16']++;Chat.query({filters:{'$or':[{'from._id':$scope.user_id},{'to._id':$scope.user_id}]},limit:9999,select:'from to last_message',sort:'last_message'});__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['17']++;$scope.$on('CHATS_RETRIEVED',function(e,data){__cov_9ZuiCkMYDhEIeF8mEqIatQ.f['6']++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['18']++;if(!searching){__cov_9ZuiCkMYDhEIeF8mEqIatQ.b['1'][0]++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['19']++;for(var i=0;i<data.length;i++){__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['20']++;$scope.chats.unshift(data[i]);}}else{__cov_9ZuiCkMYDhEIeF8mEqIatQ.b['1'][1]++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['21']++;if(data.length==1){__cov_9ZuiCkMYDhEIeF8mEqIatQ.b['2'][0]++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['22']++;$scope.hide();__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['23']++;searching=false;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['24']++;$state.go('chat.details',{id:data[0]._id});}else{__cov_9ZuiCkMYDhEIeF8mEqIatQ.b['2'][1]++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['25']++;Chat.create({from:{_id:$scope.user_id,name:$scope.user},to:{_id:user._id,name:user.name}});__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['26']++;user={};}}});__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['27']++;$scope.$on('CHAT_CREATED',function(e,data){__cov_9ZuiCkMYDhEIeF8mEqIatQ.f['7']++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['28']++;$scope.hide();__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['29']++;$scope.chats.unshift(data);__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['30']++;$state.go('chat.details',{id:data._id});});__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['31']++;$scope.$on('USERS_RETRIEVED',function(e,data){__cov_9ZuiCkMYDhEIeF8mEqIatQ.f['8']++;__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['32']++;$('#retrieved-users').slideDown();__cov_9ZuiCkMYDhEIeF8mEqIatQ.s['33']++;$scope.users=data;});};});
